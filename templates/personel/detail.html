{% extends 'base.html' %}
{% block content %}
{% if user.is_authenticated %}
  <div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg">
    <!-- Başlık -->
    <h2 class="text-3xl font-bold mb-6 text-center text-gray-900 dark:text-white">👤 Personel Detayı</h2>

    <!-- Avatar -->
    {% if personel.avatar_public_url %}
      <div class="flex justify-center mb-6">
        <img src="{{ personel.avatar_public_url }}" alt="Avatar"
             class="w-28 h-28 rounded-full object-cover border-4 border-blue-500 shadow-md transition-transform hover:scale-105">
      </div>
    {% endif %}

    <!-- Bilgiler -->
    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg space-y-2 text-sm text-gray-800 dark:text-gray-200">
      <p><strong>Ad:</strong> {{ personel.ad }}</p>
      <p><strong>Soyad:</strong> {{ personel.soyad }}</p>
      <p><strong>Pozisyon:</strong> {{ personel.pozisyon }}</p>
      <p><strong>Departman:</strong> {{ personel.departman }}</p>
      <p><strong>Doğum Tarihi:</strong> {{ personel.dogum_tarihi|date:"d.m.Y" }}</p>
      <p><strong>Telefon:</strong> {{ personel.telefon }}</p>
      <p><strong>Email:</strong> {{ personel.email }}</p>
      <p><strong>Aktif:</strong> {{ personel.aktif|yesno:"Evet,Hayır" }}</p>
    </div>

    <!-- QR Kod -->
    <div class="mt-6 flex flex-col items-center gap-2">
      <img src="https://api.qrserver.com/v1/create-qr-code/?data={{ request.build_absolute_uri }}"
           alt="QR Kod" class="w-24 h-24 rounded shadow" />
      <p class="text-xs text-gray-500 dark:text-gray-400">Sayfa bağlantısını paylaşmak için QR kodu kullanabilirsiniz.</p>
    </div>

    <!-- Butonlar -->
    <div class="mt-6 flex justify-center gap-4">
      <a href="{% url 'personel_update' personel.pk %}"
         class="inline-flex items-center gap-2 bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition">
        ✏️ Düzenle
      </a>
      <a href="{% url 'personel_list' %}"
         class="inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
        📋 Listeye Dön
      </a>
    </div>
  </div>
{% else %}
  <div class="text-center text-red-500 font-semibold mt-10">
    Bu sayfayı görüntülemek için giriş yapmalısınız.
  </div>
{% endif %}
{% endblock %}
